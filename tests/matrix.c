#include <stdio.h>
#include <stdlib.h>
#include "mkl.h"

int main()
{
	const int x = 32*32;
	double matrix[32*32] = {0.0669,0.5835,0.2364,0.3900,0.6627,0.6751,0.7202,0.2866,0.9718,0.6096,0.3017,0.5319,0.2287,0.5051,0.3604,0.4363,0.3365,0.5044,0.5950,0.9573,0.9727,0.0539,0.1938,0.5406,0.5966,0.8414,0.5481,0.1565,0.8280,0.7475,0.8384,0.6147,0.9394,0.5518,0.1771,0.9274,0.2815,0.3610,0.7218,0.8008,0.9880,0.5747,0.0117,0.2021,0.8342,0.2714,0.1403,0.1739,0.1877,0.3473,0.9622,0.6203,0.7104,0.8051,0.4324,0.4320,0.9020,0.8572,0.3690,0.4573,0.2934,0.7485,0.1676,0.9912,0.0182,0.5836,0.8296,0.9175,0.2304,0.6203,0.8778,0.8961,0.8641,0.3260,0.5399,0.4539,0.0156,0.1008,0.2601,0.0261,0.3219,0.0921,0.1858,0.6003,0.3119,0.4514,0.7492,0.5427,0.7021,0.9636,0.2083,0.6181,0.3094,0.5433,0.5022,0.2037,0.6838,0.5118,0.7669,0.7136,0.7111,0.8112,0.5824,0.5975,0.3889,0.4564,0.0954,0.4279,0.8637,0.5078,0.0868,0.9547,0.4039,0.1478,0.1930,0.1726,0.2915,0.3826,0.0392,0.7124,0.3775,0.4889,0.4409,0.9322,0.5230,0.3381,0.9993,0.8272,0.7837,0.0826,0.9345,0.6183,0.6246,0.0193,0.0707,0.8840,0.4547,0.7138,0.1465,0.9661,0.0781,0.5856,0.4294,0.4306,0.5486,0.1982,0.3416,0.0903,0.8504,0.7896,0.9463,0.0167,0.7350,0.2203,0.9562,0.8351,0.3253,0.8323,0.3554,0.6759,0.5341,0.7196,0.1079,0.3433,0.5906,0.0839,0.9227,0.9437,0.2467,0.8844,0.6311,0.6201,0.6690,0.7629,0.2573,0.9616,0.0487,0.6723,0.9329,0.2553,0.9116,0.3643,0.7637,0.8009,0.9541,0.2262,0.1240,0.8954,0.8318,0.5526,0.0471,0.2489,0.8854,0.9962,0.1822,0.9360,0.6604,0.9748,0.8004,0.5492,0.7844,0.7209,0.8593,0.6954,0.5002,0.0830,0.2976,0.7624,0.5527,0.4315,0.3907,0.8586,0.6393,0.5323,0.5588,0.1425,0.5428,0.5368,0.4708,0.5825,0.8103,0.9575,0.2137,0.4758,0.8990,0.3545,0.0991,0.1248,0.0476,0.6513,0.2859,0.7284,0.8828,0.0186,0.9742,0.7202,0.2180,0.6616,0.4249,0.0073,0.2748,0.6944,0.2732,0.9111,0.2554,0.7117,0.1838,0.4785,0.5401,0.7621,0.8569,0.5827,0.5570,0.8928,0.3978,0.3991,0.6259,0.9713,0.4898,0.7306,0.3488,0.2312,0.5437,0.5768,0.9137,0.6748,0.5708,0.3469,0.5716,0.5170,0.1192,0.6800,0.2415,0.2568,0.1519,0.6996,0.0887,0.8715,0.4979,0.2568,0.3111,0.3476,0.0434,0.8549,0.2630,0.3565,0.3337,0.5994,0.1379,0.3464,0.1932,0.6465,0.4513,0.4035,0.9848,0.0259,0.5583,0.4385,0.9969,0.5170,0.1222,0.1710,0.4951,0.7060,0.2431,0.0098,0.3971,0.7252,0.8383,0.3287,0.5178,0.3691,0.0712,0.4612,0.6916,0.0349,0.6806,0.5464,0.2296,0.8005,0.2178,0.8865,0.8959,0.8332,0.2409,0.1220,0.7157,0.4465,0.5989,0.4378,0.5535,0.5567,0.6712,0.9386,0.7064,0.6451,0.1542,0.5323,0.3747,0.2299,0.5847,0.6501,0.9942,0.6618,0.1820,0.6393,0.9790,0.8854,0.2337,0.3467,0.9361,0.1051,0.1821,0.4547,0.0991,0.3983,0.7150,0.2684,0.8390,0.6463,0.1489,0.1170,0.5155,0.1565,0.5996,0.5905,0.2436,0.5523,0.9564,0.2794,0.1311,0.5761,0.9481,0.9748,0.8549,0.1696,0.0930,0.9173,0.2833,0.4077,0.4564,0.6228,0.6832,0.8214,0.0418,0.4134,0.0442,0.7498,0.8562,0.2578,0.4333,0.5212,0.8997,0.8147,0.3307,0.5621,0.0560,0.4406,0.7851,0.2181,0.9357,0.9462,0.4350,0.8106,0.0610,0.0760,0.9624,0.2788,0.4635,0.1616,0.1338,0.0364,0.3846,0.7966,0.9621,0.8411,0.1069,0.2177,0.5573,0.8352,0.2815,0.3317,0.4706,0.3723,0.4504,0.3249,0.4300,0.6948,0.0563,0.9419,0.0741,0.7724,0.8187,0.9064,0.0915,0.4038,0.5846,0.5870,0.6789,0.1982,0.0093,0.7156,0.6853,0.7461,0.5386,0.7459,0.4380,0.3545,0.6164,0.1257,0.7725,0.3225,0.7311,0.1522,0.5607,0.9371,0.2057,0.2462,0.4918,0.4265,0.1525,0.6559,0.3939,0.2280,0.7283,0.3927,0.6146,0.9884,0.2851,0.4139,0.4035,0.1951,0.9150,0.5777,0.9095,0.1548,0.9917,0.1255,0.9403,0.4301,0.9397,0.3089,0.3119,0.5523,0.1378,0.3480,0.2691,0.8295,0.8997,0.3427,0.0710,0.8363,0.0196,0.4519,0.0034,0.3709,0.1758,0.0249,0.0110,0.0900,0.8277,0.3091,0.9350,0.3268,0.6427,0.4333,0.6109,0.1439,0.7552,0.8224,0.0058,0.5722,0.3545,0.7261,0.1790,0.9791,0.8367,0.1217,0.7490,0.8491,0.7626,0.3757,0.8877,0.7314,0.4352,0.8397,0.2207,0.8909,0.3604,0.6714,0.5733,0.3209,0.1910,0.2638,0.4795,0.8803,0.0014,0.8842,0.9000,0.6060,0.9805,0.0252,0.6103,0.7008,0.4106,0.7829,0.3390,0.5493,0.1386,0.8842,0.5039,0.3725,0.8825,0.5466,0.0646,0.3600,0.8322,0.5326,0.0013,0.8564,0.1888,0.8372,0.7897,0.5114,0.4425,0.7588,0.2318,0.4711,0.0304,0.3931,0.1934,0.2545,0.2348,0.4144,0.8011,0.7425,0.9843,0.6938,0.2101,0.3304,0.5882,0.0943,0.6468,0.5932,0.2850,0.5619,0.4362,0.4542,0.6174,0.5539,0.1892,0.4024,0.0012,0.9715,0.2354,0.0606,0.3934,0.9952,0.3963,0.4040,0.2085,0.1790,0.7544,0.3242,0.5286,0.7314,0.2330,0.7579,0.9456,0.0098,0.5102,0.6195,0.3662,0.9300,0.3077,0.8726,0.6732,0.3958,0.8266,0.3864,0.5201,0.6801,0.1425,0.3180,0.3164,0.0569,0.4480,0.7257,0.8266,0.1866,0.7051,0.1792,0.4550,0.6333,0.3463,0.4018,0.0514,0.7814,0.9325,0.3891,0.6766,0.8432,0.9064,0.3606,0.8068,0.3990,0.1387,0.9335,0.6643,0.3981,0.3945,0.7756,0.8639,0.3672,0.2681,0.6086,0.6996,0.4503,0.5694,0.5566,0.6769,0.7811,0.5586,0.9689,0.1273,0.6240,0.4186,0.4064,0.7569,0.3673,0.7633,0.4293,0.9883,0.9223,0.6289,0.7565,0.5038,0.0474,0.4756,0.6685,0.1228,0.5154,0.6135,0.7343,0.0977,0.2393,0.1749,0.9102,0.6253,0.5825,0.0614,0.5294,0.2076,0.1958,0.7566,0.4075,0.0086,0.3279,0.1557,0.3862,0.6020,0.7449,0.8264,0.9563,0.7668,0.7710,0.1015,0.4139,0.4896,0.3424,0.3625,0.2068,0.4073,0.6575,0.8186,0.4303,0.9081,0.5789,0.1386,0.9091,0.5431,0.6866,0.4963,0.8300,0.3181,0.9924,0.9955,0.8445,0.7271,0.8030,0.8190,0.6098,0.8572,0.8923,0.5735,0.5730,0.3367,0.0427,0.3909,0.4923,0.8770,0.7360,0.7881,0.6539,0.2753,0.9509,0.8862,0.6938,0.1080,0.8669,0.5989,0.5916,0.4390,0.7194,0.6423,0.8588,0.1338,0.8023,0.9624,0.6153,0.3541,0.9995,0.6249,0.1669,0.9883,0.2426,0.7926,0.8497,0.6624,0.3782,0.0546,0.6947,0.3531,0.7947,0.7803,0.0721,0.7167,0.7223,0.9311,0.9452,0.5170,0.4068,0.9011,0.3326,0.2874,0.6500,0.2213,0.7890,0.6715,0.4242,0.5351,0.3766,0.7804,0.9810,0.7386,0.1881,0.9295,0.1296,0.3290,0.2763,0.2442,0.7043,0.5013,0.9727,0.4494,0.5449,0.6685,0.4067,0.2834,0.4001,0.1908,0.7842,0.1432,0.1126,0.9394,0.8531,0.5017,0.7269,0.8371,0.3178,0.5710,0.7289,0.9639,0.8772,0.4367,0.1270,0.8051,0.0946,0.4095,0.2251,0.2235,0.6223,0.2955,0.7295,0.4317,0.3278,0.9635,0.6862,0.1335,0.6669,0.8962,0.8319,0.2586,0.7056,0.5594,0.4438,0.2212,0.4424,0.7615,0.3738,0.9711,0.4522,0.1698,0.4984,0.1156,0.7849,0.4366,0.2322,0.0672,0.3232,0.0003,0.3500,0.3124,0.5884,0.6802,0.2243,0.9976,0.8378,0.0423,0.8936,0.0216,0.9337,0.8266,0.1343,0.8979,0.1093,0.0046,0.3002,0.4827,0.9044,0.7624,0.5816,0.8464,0.7522,0.1477,0.8090,0.0514,0.4650,0.0492,0.0236,0.9508,0.7696,0.5409,0.2871,0.5845,0.9635,0.5278,0.2691,0.8116,0.7391,0.9730,0.0548,0.5598,0.8110,0.3900,0.0605,0.5934,0.3899,0.7667,0.4014,0.3760,0.0332,0.5761,0.1161,0.5060,0.1099,0.4761,0.3565,0.3043,0.8140,0.0496,0.6074,0.4976,0.2341,0.2077,0.9275,0.8299,0.0859,0.4116,0.6730,0.4857,0.9542,0.1892,0.3037,0.3008,0.4845,0.4979,0.0842,0.5038,0.5909,0.8487,0.8334,0.5238,0.5324,0.7477,0.0577,0.2789,0.1097,0.9081,0.0732,0.5802,0.8984,0.0911,0.1108,0.7551,0.7404,0.2193,0.0513,0.2905,0.5005,0.6026,0.4775,0.8944,0.0319,0.6671,0.0462,0.9394,0.7567,0.6948,0.1639,0.6128,0.4594,0.9168,0.4036,0.2649,0.7165,0.6455,0.9798,0.7466,0.2699,0.5522,0.5910,0.5310,0.4292,0.5940,0.4075,0.7424,0.6928,0.3258,0.5927,0.4026,0.5216,0.7505,0.6237,0.1375,0.3569,0.5864,0.1955,0.9809,0.4170,0.8344,0.3242,0.8194,0.0503,0.9870,0.3902,0.0684,0.1793,0.1232,0.2848,0.2369,0.5246,0.0329,0.9102,0.9012,0.3343,0.2411,0.8841,0.8311,0.8241,0.0959,0.1629,0.8621,0.0902};

	const int m = 32;
	double work[x];
	lapack_int pivot[m];
	LAPACKE_dgetrf(LAPACK_ROW_MAJOR, m, m, matrix, m, pivot);
	LAPACKE_dgetri(LAPACK_ROW_MAJOR, m, matrix, m, pivot);

	int i = 0;
	int j = 0;
	for(i = 0; i < 5; i++)
	{
		for(j = 0; j < 5; j++)
			printf("%10.4f ", matrix[i*m+j]);
		printf("\n");
	}

	return 0;
}
